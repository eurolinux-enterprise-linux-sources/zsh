From 1b014b78fa0919a83b0a8082bc78b0fa3dccaf33 Mon Sep 17 00:00:00 2001
From: Mikael Magnusson <mikachu@gmail.com>
Date: Mon, 6 Oct 2014 20:33:47 +0200
Subject: [PATCH] 33365: avoid buffer overflow for very long fds in >& fd
 syntax

Upstream-commit: 49a3086bb67575435251c70ee598e2fd406ef055
Signed-off-by: Kamil Dudka <kdudka@redhat.com>
---
 Src/exec.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/Src/exec.c b/Src/exec.c
index fb9715c..6d47935 100644
--- a/Src/exec.c
+++ b/Src/exec.c
@@ -3134,7 +3134,7 @@ execcmd(Estate state, int input, int output, int how, int last1)
 		    fil = dup(fd);
 		}
 		if (fil == -1) {
-		    char fdstr[4];
+		    char fdstr[DIGBUFSIZE];
 
 		    closemnodes(mfds);
 		    fixfds(save);
-- 
2.14.3

